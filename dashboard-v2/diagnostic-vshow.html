<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diagnostic v-show</title>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:sans-serif;background:#111;color:#fff;padding:20px}
.card{background:#222;padding:20px;border-radius:12px;margin:20px 0}
button{padding:12px 24px;margin:5px;border-radius:8px;border:none;cursor:pointer;font-weight:600;font-size:16px}
.btn-d{background:#5865F2;color:white}
.btn-eco{background:#57F287;color:#000}
.btn-niv{background:#FFA500;color:#000}
button:hover{opacity:0.8}
.section{border:3px solid;padding:20px;margin:10px 0;border-radius:12px}
.section h2{margin-bottom:10px}
.debug{background:#000;padding:15px;border-radius:8px;font-family:monospace;font-size:14px}
</style>
</head>
<body>
<div id="app">
<h1 style="margin-bottom:20px">ğŸ” Diagnostic v-show Dashboard</h1>

<div class="card">
<h3>Ã‰tat de Vue.js</h3>
<div class="debug">
<div>âœ… Vue chargÃ©: {{ vueLoaded ? 'OUI' : 'NON' }}</div>
<div>âœ… App montÃ©e: {{ appMounted ? 'OUI' : 'NON' }}</div>
<div>ğŸ“ Section active: <strong style="color:#57F287">{{ v }}</strong></div>
<div>ğŸ“± Mode: {{ isMobile ? 'MOBILE' : 'DESKTOP' }}</div>
</div>
</div>

<div class="card">
<h3>Navigation</h3>
<button class="btn-d" @click="v='d'">ğŸ  Dashboard (d)</button>
<button class="btn-eco" @click="v='eco'">ğŸ’° Ã‰conomie (eco)</button>
<button class="btn-niv" @click="v='niv'">â­ Niveaux (niv)</button>
</div>

<div class="card">
<h3>Test v-show</h3>
<p style="margin-bottom:10px;opacity:0.7">Une seule section devrait Ãªtre visible Ã  la fois:</p>

<div v-show="v==='d'" class="section" style="border-color:#5865F2">
<h2>ğŸ  Section Dashboard</h2>
<p>Cette section s'affiche quand v === 'd'</p>
<p style="opacity:0.5;margin-top:10px">Si vous voyez toutes les sections en mÃªme temps, il y a un problÃ¨me!</p>
</div>

<div v-show="v==='eco'" class="section" style="border-color:#57F287">
<h2>ğŸ’° Section Ã‰conomie</h2>
<p>Cette section s'affiche quand v === 'eco'</p>
<p style="opacity:0.5;margin-top:10px">Seule cette section devrait Ãªtre visible maintenant.</p>
</div>

<div v-show="v==='niv'" class="section" style="border-color:#FFA500">
<h2>â­ Section Niveaux</h2>
<p>Cette section s'affiche quand v === 'niv'</p>
<p style="opacity:0.5;margin-top:10px">Seule cette section devrait Ãªtre visible maintenant.</p>
</div>
</div>

<div class="card">
<h3>Debug Info</h3>
<div class="debug">
<pre>v = "{{ v }}"
vueLoaded = {{ vueLoaded }}
appMounted = {{ appMounted }}
isMobile = {{ isMobile }}
window.innerWidth = {{ windowWidth }}px</pre>
</div>
</div>

<div class="card" style="background:#ED4245;color:#fff">
<h3>âš ï¸ Que vÃ©rifier?</h3>
<ul style="line-height:1.8;margin-left:20px">
<li>Cliquez sur les boutons ci-dessus</li>
<li>UNE SEULE section colorÃ©e devrait Ãªtre visible Ã  la fois</li>
<li>Si vous voyez les 3 sections en mÃªme temps â†’ Vue ne fonctionne pas</li>
<li>Si seule une section s'affiche â†’ v-show fonctionne correctement âœ…</li>
</ul>
</div>
</div>

<script>
console.log('ğŸ”§ Chargement du diagnostic...');
const{createApp}=Vue;
createApp({
data(){
return{
vueLoaded:true,
appMounted:false,
v:'d',
isMobile:false,
windowWidth:window.innerWidth
}
},
mounted(){
this.appMounted=true;
this.checkMobile();
window.addEventListener('resize',this.checkMobile);
console.log('âœ… App montÃ©e, v =', this.v);
},
methods:{
checkMobile(){
this.isMobile=window.innerWidth<=768;
this.windowWidth=window.innerWidth;
}
}
}).mount('#app');
console.log('âœ… Vue montÃ© avec succÃ¨s');
</script>
</body>
</html>
